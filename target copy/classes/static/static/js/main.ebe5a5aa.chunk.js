(this["webpackJsonplol-match-history"]=this["webpackJsonplol-match-history"]||[]).push([[0],{17:function(t,e,a){},24:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var c=a(2),s=a.n(c),n=a(18),r=a.n(n),i=a(0);const o=t=>{let{onSearch:e}=t;const[a,s]=Object(c.useState)("");return Object(i.jsxs)("form",{onSubmit:t=>{t.preventDefault(),a.trim()&&e(a)},className:"search-bar",children:[Object(i.jsx)("input",{type:"text",value:a,onChange:t=>s(t.target.value),placeholder:"\uc18c\ud658\uc0ac\uba85#\ud0dc\uadf8 (\uc608: Hide on bush#KR1)","aria-label":"\uc18c\ud658\uc0ac \uac80\uc0c9"}),Object(i.jsx)("button",{type:"submit",children:"\uac80\uc0c9"})]})};a(24);const l=t=>{let{matches:e}=t;const[a,s]=Object(c.useState)(null);return Object(i.jsx)("div",{className:"match-history",children:e.map((t=>{const c=(t=>{const a=e[0].info.participants[0].puuid;return t.info.participants.find((t=>t.puuid===a))})(t);return c?Object(i.jsxs)("div",{className:"match-card ".concat(c.win?"victory":"defeat"),onClick:()=>{return e=t.metadata.matchId,void s(a===e?null:e);var e},children:[Object(i.jsxs)("div",{className:"match-info",children:[Object(i.jsxs)("div",{className:"champion-info",children:[Object(i.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/13.24.1/img/champion/".concat(c.championName,".png"),alt:c.championName,className:"champion-icon"}),Object(i.jsx)("span",{children:c.championName})]}),Object(i.jsxs)("div",{className:"game-stats",children:[Object(i.jsxs)("div",{className:"kda",children:[c.kills," / ",c.deaths," / ",c.assists]}),Object(i.jsxs)("div",{className:"kda-ratio",children:[((c.kills+c.assists)/Math.max(1,c.deaths)).toFixed(2)," KDA"]})]}),Object(i.jsxs)("div",{className:"game-info",children:[Object(i.jsx)("div",{children:c.win?"\uc2b9\ub9ac":"\ud328\ubc30"}),Object(i.jsxs)("div",{children:[Math.floor(t.info.gameDuration/60),"\ubd84"]}),Object(i.jsx)("div",{children:new Date(t.info.gameCreation).toLocaleDateString()})]})]}),a===t.metadata.matchId&&Object(i.jsxs)("div",{className:"match-details",children:[Object(i.jsx)("div",{className:"items",children:c.items.map(((t,e)=>Object(i.jsx)("img",{src:"http://ddragon.leagueoflegends.com/cdn/13.1.1/img/item/".concat(t,".png"),alt:"Item ".concat(t)},e)))}),Object(i.jsxs)("div",{className:"additional-stats",children:[Object(i.jsxs)("p",{children:["CS: ",c.cs," (",(c.cs/(t.info.gameDuration/60)).toFixed(1),")"]}),Object(i.jsxs)("p",{children:["Gold: ",c.goldEarned.toLocaleString()]})]})]})]},t.metadata.matchId):null}))})};var h=a(4),d=a.n(h);const m="RGAPI-bf2e56ae-e3d5-47a5-8528-55e2a5a05bd4",j="https://kr.api.riotgames.com";class u{constructor(){this.headers={"X-Riot-Token":m}}async getSummonerByName(t){try{return(await d.a.get("".concat(j,"/lol/summoner/v4/summoners/by-name/").concat(encodeURIComponent(t)),{headers:this.headers})).data}catch(e){throw console.error("Error fetching summoner:",e),e}}async getMatchList(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{return(await d.a.get("".concat(j,"/lol/match/v5/matches/by-puuid/").concat(t,"/ids"),{headers:this.headers,params:{start:e,count:a}})).data}catch(c){throw console.error("Error fetching match list:",c),c}}async getMatchDetails(t){try{return(await d.a.get("".concat(j,"/lol/match/v5/matches/").concat(t),{headers:this.headers})).data}catch(e){throw console.error("Error fetching match details:",e),e}}async getMatchHistory(t){try{return(await d.a.get("/api/matches/by-summoner/".concat(encodeURIComponent(t)))).data}catch(e){throw console.error("Error fetching match history:",e),e}}}a(17);var b=()=>{const[t,e]=Object(c.useState)([]),[a,s]=Object(c.useState)(!1),[n,r]=Object(c.useState)(null),h=new u;return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsxs)("h1",{children:["League of Legends",Object(i.jsx)("br",{}),"Match History"]}),Object(i.jsx)(o,{onSearch:async t=>{s(!0),r(null);try{const a=await h.getMatchHistory(t);e(a)}catch(n){r("\uc18c\ud658\uc0ac\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc18c\ud658\uc0ac\uba85\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."),e([])}finally{s(!1)}}}),a&&Object(i.jsx)("div",{className:"loading",children:"\uac80\uc0c9\uc911..."}),n&&Object(i.jsx)("div",{className:"error-message",children:n}),t.length>0&&Object(i.jsx)(l,{matches:t})]})};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.ebe5a5aa.chunk.js.map